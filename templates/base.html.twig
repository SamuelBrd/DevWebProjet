<!DOCTYPE html>
<html>
<head>
    <title>{% block title %}{% trans %} Organization of various events {% endtrans %}{% endblock %}</title>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

    {% block stylesheets %}{% endblock %}

    {% block javascripts %}{% endblock %}
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="/assets/style.css">

</head>
<body class="light">
<nav class="navbar navbar-default">
    <div class="container-fluid">
        <div class="navbar-header">
            <a class="navbar-brand" href="{{ path('homepage') }}"><img src='/images/LogoUniv.png' width="40"></a>
            <a class="navbar-brand" href="{{ path('event.list') }}">{% trans %} Events {% endtrans %}</a>
            <a class="navbar-brand" href="{{ path('commu.list') }}">{% trans %} Community {% endtrans %}</a>
        </div>

        <div class="collapse navbar-collapse">
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <div>

                        {# Si l'utilisateur n'est pas connecté ce dernier peut se connecter ou s'inscrire #}

                        {% if not is_granted('ROLE_USER') %}
                            <a class="navbar-brand" href="{{ path('app_login') }}"><span class="glyphicon glyphicon-log-in" aria-hidden="true"></span></a>
                            <a class="navbar-brand" href="{{ path('app_register') }}">{% trans %} Registration {% endtrans %}</a>

                        {# Si l'utilisateur est connecté, il peut seulement se déconnecté #}

                        {% else %}
                            <a class="navbar-brand" href="{{ path('app_logout') }}"><span class="glyphicon glyphicon-log-out" aria-hidden="true"></span></a>
                        {% endif %}

                        {# Choix de la langue #}

                        {% for key,locale in locales %}
                            <li><a href="{{ path(app.request.get('_route'),
                            app.request.attributes.get('_route_params')|merge({'_locale': key})) }}">{{locale}}</a></li>
                        {% endfor %} 

                        {# Bouton pour passer la page en darkmode #}

                        <div class="btn-toggle"><span class="glyphicon glyphicon-adjust" aria-hidden="true"></span></div>
                    </div>
                </li>
            </ul>
        </div>
    </div>

    {# Script du bouton de passage en darkmode #}

    <script>
        const btnToggle = document.querySelector('.btn-toggle');
        btnToggle.addEventListener('click', () => {
            const body = document.body;
            if(body.classList.contains('dark')){
                body.classList.add('light')
                body.classList.remove('dark')
            } else if(body.classList.contains('light')){
                body.classList.add('dark')
                body.classList.remove('light')
            }
        })
    </script>
</nav>
<div class="container">
    {% block body %}{% endblock %}
</div>
</body>
</html>
